<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="selfInfoMgr.userInfoMgr.dao.IHealthDataDao">
	<!-- 销售单详情 -->
	<select id="getHealthData" parameterType="java.util.Map" resultType="java.util.HashMap">
		SELECT
			A.UUID,
			A.HEARTRATE,
			A.HIGHPRESSURE,
			A.LOWPRESSURE,
			A.BLOODSUGAR,
			A.BLOODLIPID,
			A.highcholesterol,
			A.CHOLESTEROL,
			A.TRIOXYPURINE,
			A.TEMPERATURE,
			DATE_FORMAT(A.CREATETIME, '%Y-%c-%d %H:%i:%s') AS CREATETIME
		FROM 
			H_MONITOR A
		WHERE 
			A.USERID = #{UUID}
		AND 
			A.DELETE_FLAG = 0
		<if test='BEGIN_CREATETIME!=NULL and BEGIN_CREATETIME!="" and END_CREATETIME!=NULL and END_CREATETIME!=""'>
		AND
			A.CREATETIME BETWEEN #{BEGIN_CREATETIME} AND #{END_CREATETIME}
		</if>
	</select>
	
	<insert id="addHealthData" parameterType="java.util.Map">
		INSERT INTO H_MONITOR
		  (UUID,USERID,HEARTRATE,HIGHPRESSURE,LOWPRESSURE,BLOODSUGAR,BLOODLIPID,HIGHCHOLESTEROL,TRIOXYPURINE,CHOLESTEROL,TEMPERATURE,CREATETIME,UPDATETIME,DELETE_FLAG)
		VALUES
		  (#{UUID},#{USERID},#{HEARTRATE},#{HIGHPRESSURE},#{LOWPRESSURE},#{BLOODSUGAR},#{BLOODLIPID},#{HIGHCHOLESTEROL},#{TRIOXYPURINE},#{CHOLESTEROL},#{TEMPERATURE},NOW(),NOW(),0)
	</insert>
	
	<update id="uploadPic" parameterType="java.util.Map">
		UPDATE YONGHU
		SET	TOUXIANG_PATH = #{TOUXIANG_PATH},
			TOUXIANG_NAME = #{TOUXIANG_NAME}	
		WHERE YONGHU_CODE = #{YONGHU_CODE}
	</update>
</mapper>
